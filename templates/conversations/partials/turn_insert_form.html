<div class="bg-green-50 border border-dashed border-green-400 rounded-lg p-3 my-2 max-w-[75%] mx-auto">
    <form hx-post="{% url 'turn_insert' conversation.pk after_turn.pk %}"
          hx-target="#turn-list"
          hx-swap="innerHTML">
        {% csrf_token %}
        <div class="text-xs font-medium text-green-700 mb-2">Insert turn after position {{ after_turn.position }}</div>
        <div class="flex items-center gap-2 mb-2">
            <label class="text-xs text-gray-600">Role:</label>
            <select name="role" class="rounded border border-gray-300 px-2 py-1 text-xs">
                <option value="agent">Restaurant AI</option>
                <option value="user">Customer</option>
            </select>
        </div>
        <textarea name="text" rows="2" required
            class="w-full rounded-md border border-gray-300 px-2 py-1.5 text-sm focus:border-green-500 focus:outline-none focus:ring-1 focus:ring-green-500"
            placeholder="Enter turn text..."></textarea>
        <div class="flex items-center gap-2 mt-2">
            <button type="submit" class="px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700">Insert</button>
            <button type="button" onclick="this.closest('.bg-green-50').remove()" class="px-3 py-1 bg-gray-100 text-gray-600 text-xs rounded hover:bg-gray-200">Cancel</button>
        </div>
    </form>
</div>
